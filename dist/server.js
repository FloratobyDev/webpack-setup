(()=>{var e={320:(e,r,n)=>{!function(){"use strict";var r=n(965),t=n(561),o={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function s(e){return"string"==typeof e||e instanceof String}function i(e,r){if(Array.isArray(r)){for(var n=0;n<r.length;++n)if(i(e,r[n]))return!0;return!1}return s(r)?e===r:r instanceof RegExp?r.test(e):!!r}function u(e,r){var n,t=r.headers.origin,o=[];return e.origin&&"*"!==e.origin?s(e.origin)?(o.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),o.push([{key:"Vary",value:"Origin"}])):(n=i(t,e.origin),o.push([{key:"Access-Control-Allow-Origin",value:!!n&&t}]),o.push([{key:"Vary",value:"Origin"}])):o.push([{key:"Access-Control-Allow-Origin",value:"*"}]),o}function l(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function a(e){var r=e.exposedHeaders;return r?(r.join&&(r=r.join(",")),r&&r.length?{key:"Access-Control-Expose-Headers",value:r}:null):null}function c(e,r){for(var n=0,o=e.length;n<o;n++){var s=e[n];s&&(Array.isArray(s)?c(s,r):"Vary"===s.key&&s.value?t(r,s.value):s.value&&r.setHeader(s.key,s.value))}}e.exports=function(e){var n=null;return n="function"==typeof e?e:function(r,n){n(null,e)},function(e,t,s){n(e,(function(n,i){if(n)s(n);else{var p=r({},o,i),g=null;p.origin&&"function"==typeof p.origin?g=p.origin:p.origin&&(g=function(e,r){r(null,p.origin)}),g?g(e.headers.origin,(function(r,n){r||!n?s(r):(p.origin=n,function(e,r,n,t){var o=[];"OPTIONS"===(r.method&&r.method.toUpperCase&&r.method.toUpperCase())?(o.push(u(e,r)),o.push(l(e)),o.push(function(e){var r=e.methods;return r.join&&(r=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:r}}(e)),o.push(function(e,r){var n=e.allowedHeaders||e.headers,t=[];return n?n.join&&(n=n.join(",")):(n=r.headers["access-control-request-headers"],t.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),n&&n.length&&t.push([{key:"Access-Control-Allow-Headers",value:n}]),t}(e,r)),o.push(function(e){var r=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return r&&r.length?{key:"Access-Control-Max-Age",value:r}:null}(e)),o.push(a(e)),c(o,n),e.preflightContinue?t():(n.statusCode=e.optionsSuccessStatus,n.setHeader("Content-Length","0"),n.end())):(o.push(u(e,r)),o.push(l(e)),o.push(a(e)),c(o,n),t())}(p,e,t,s))})):s()}}))}}}()},860:e=>{"use strict";e.exports=require("express")},965:e=>{"use strict";e.exports=require("object-assign")},561:e=>{"use strict";e.exports=require("vary")},17:e=>{"use strict";e.exports=require("path")}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var s=r[t]={exports:{}};return e[t](s,s.exports,n),s.exports}(()=>{const e=n(860),r=n(17),t=e();n(320),t.use(e.static("public")),t.get("/api/hello",((e,r)=>{r.json({message:"Hello from server!"})})),t.get("*",((e,n)=>{n.sendFile(r.join(__dirname,"../public","index.html"))}));const o=process.env.PORT||3e3;t.listen(o,(()=>{console.log(`Server is running on http://localhost:${o}`)}))})()})();
//# sourceMappingURL=server.js.map